{"version":3,"sources":["styles.module.css","Pane.js","BackButtonDisabler/component.js","CloseWindowWarner/component.js","utils/getStrings.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Pane","children","showOnStep","step","className","getClassNames","styles","pane","Array","fill","right","middle","left","Component","useEffect","window","history","pushState","location","href","onpopstate","displayName","handleUnload","event","hostname","preventDefault","returnValue","addEventListener","removeEventListener","STRINGS","en","THERAPY_IS_A_UNIQUE_AND_ONGOING","BEFORE_YOU_GO","GIVE_FEEDBACK","THANKS_YOUR_FEEDBACK_DIRECTLY_HELPS","WELL_LET_YOUR_THERAPIST_KNOW","IF_YOU_EVER_NEED_US","es","languageCode","parse","search","language","memberId","email","strings","getStrings","App","useState","setStep","handleMessage","data","origin","type","a","fetch","method","body","JSON","stringify","asyncPostPause","viewport","logo","src","alt","panes","content","onClick","typeform","title","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59eedea4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewport\":\"styles_viewport__E9-TC\",\"logo\":\"styles_logo__3ot-y\",\"content\":\"styles_content__213aE\",\"panes\":\"styles_panes__3YztH\",\"pane\":\"styles_pane__1XzVp\",\"left\":\"styles_left__lBZpX\",\"middle\":\"styles_middle__2DRGh\",\"right\":\"styles_right__umKcc\",\"typeform\":\"styles_typeform__3iIWd\"};","import React from 'react';\nimport getClassNames from 'classnames';\n\nimport styles from './styles.module.css';\n\nexport const Pane = ({\n  children,\n  showOnStep,\n  step,\n}) => (\n    <div\n      className={getClassNames(\n        styles.pane,\n        [...Array(showOnStep).fill(styles.right), styles.middle][step] || styles.left\n      )}\n    >\n      {children}\n    </div>\n  );\n","import { useEffect } from 'react';\n\nexport const Component = () => {\n  useEffect(() => {\n    window.history.pushState(null, '', window.location.href);\n    window.onpopstate = () => {\n      window.history.pushState(null, '', window.location.href);\n    };\n  }, []);\n\n  return null;\n};\n\nComponent.displayName = 'BackButtonDisabler';\n","import { useEffect } from 'react';\n\nexport const Component = ({ step }) => {\n  const handleUnload = (event) => {\n    if (window.location.hostname === 'localhost') return;\n\n    event.preventDefault();\n    event.returnValue = 'something';\n    return 'something';\n  };\n\n  useEffect(() => {\n    if (step === 2) return;\n\n    window.addEventListener('beforeunload', handleUnload);\n\n    return () => window.removeEventListener('beforeunload', handleUnload);\n  }, [step]);\n\n  return null;\n};\n\nComponent.displayName = 'CloseWindowWarner';\n","const STRINGS = {\n  en: {\n    THERAPY_IS_A_UNIQUE_AND_ONGOING: 'Therapy is a unique and ongoing journey. We appreciate your trust in Oliva for this part of it.',\n    BEFORE_YOU_GO: `Before you go, we'd like to ask a couple of questions about how you're doing—and how we did.`,\n    GIVE_FEEDBACK: 'Give feedback',\n    THANKS_YOUR_FEEDBACK_DIRECTLY_HELPS: 'Thanks. Your feedback directly helps us provide better online therapy for people like you.',\n    WELL_LET_YOUR_THERAPIST_KNOW: `We'll let your therapist know that you don't need more sessions right now.`,\n    IF_YOU_EVER_NEED_US: `If you ever need us again, we're here.`,\n  },\n  es: {\n    THERAPY_IS_A_UNIQUE_AND_ONGOING: 'La terapia es un proceso único y continuo. Agradecemos tu confianza en Oliva.',\n    BEFORE_YOU_GO: 'Antes de despedirnos, nos encantaría contar contigo y hacerte un par de preguntas acerca de lo que hemos logrado juntos hasta hoy.',\n    GIVE_FEEDBACK: 'De acuerdo',\n    THANKS_YOUR_FEEDBACK_DIRECTLY_HELPS: 'Muchas gracias. Tus respuestas nos ayudan para poder ofrecer la mejor experiencia de terapia online a más personas como tú.',\n    WELL_LET_YOUR_THERAPIST_KNOW: 'Nos aseguraremos de hacerle saber a tu terapeuta que, por el momento, has decidido no continuar con tus sesiones.',\n    IF_YOU_EVER_NEED_US: 'Cuenta con nosotros para lo que necesites.',\n  }\n}\n\nexport const getStrings = (languageCode) => STRINGS[languageCode || 'en'];\n","import React, { useEffect, useState } from 'react';\nimport { parse } from 'query-string';\nimport { Button } from '@olivahouse/ui';\n\nimport '@olivahouse/ui/lib/styles.css';\n\nimport { Pane } from './Pane';\nimport { BackButtonDisabler } from './BackButtonDisabler';\nimport { CloseWindowWarner } from './CloseWindowWarner';\nimport { getStrings } from './utils/getStrings';\nimport styles from './styles.module.css';\n\nconst EN = 'en';\n\nconst languageCode = parse(window.location.search).language || EN;\nconst memberId = parse(window.location.search).memberId;\nconst email = parse(window.location.search).email;\n\nconst strings = getStrings(languageCode);\n\nconst App = () => {\n  const [step, setStep] = useState(0);\n\n  useEffect(() => {\n    const handleMessage = ({ data, origin }) => {\n      if (origin !== 'https://form.typeform.com') return;\n\n      if (data && data.type === 'form-submit') {\n          setStep(2);\n      }\n    }\n\n    window.addEventListener('message', handleMessage)\n\n    return () => window.removeEventListener('message', handleMessage);\n  }, []);\n\n  useEffect(() => {\n    if (step !== 2) return;\n\n    const asyncPostPause = async () => {\n      await fetch(\n        'https://mrazu50nsj.execute-api.us-east-1.amazonaws.com/dev/pause',\n        {\n          method: 'POST',\n          body: JSON.stringify({ email, languageCode }),\n        }\n      );\n    }\n\n    asyncPostPause();\n  }, [step]);\n\n  return (\n    <div className={styles.viewport}>\n      <img\n        className={styles.logo}\n        src=\"https://oliva-static-assets.s3.amazonaws.com/5f4625e7bfab83f32de77fe9_Oliva-logo-svg.svg\"\n        alt=\"logo\"\n      />\n      <div className={styles.panes}>\n        <Pane showOnStep={0} step={step}>\n          <div className={styles.content}>\n            <p>{strings.THERAPY_IS_A_UNIQUE_AND_ONGOING}</p>\n            <p>{strings.BEFORE_YOU_GO}</p>\n            <Button onClick={() => setStep(1)}>{strings.GIVE_FEEDBACK}</Button>\n          </div>\n        </Pane>\n        <Pane showOnStep={1} step={step}>\n          <iframe\n            className={styles.typeform}\n            src={languageCode === EN\n              ? `https://form.typeform.com/to/AXRW1j9X#memberid=${memberId}`\n              : `https://form.typeform.com/to/RYe5jOQg#memberid=${memberId}`\n            }\n            title=\"form\"\n          />\n        </Pane>\n        <Pane showOnStep={2} step={step}>\n          <div className={styles.content}>\n            <p>{strings.THANKS_YOUR_FEEDBACK_DIRECTLY_HELPS}</p>\n            <p>{strings.WELL_LET_YOUR_THERAPIST_KNOW}</p>\n            <p>{strings.IF_YOU_EVER_NEED_US}</p>\n            <img src=\"https://oliva-static-assets.s3.amazonaws.com/step4%402x.png\" alt=\"At the helm\"/>\n          </div>\n        </Pane>\n      </div>\n      <BackButtonDisabler />\n      <CloseWindowWarner step={step} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}